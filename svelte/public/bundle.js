var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function i(t){return document.createElement(t)}function a(t){return document.createTextNode(t)}function f(){return a(" ")}function d(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function h(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function g(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function p(t,e){t.value=null==e?"":e}let m;function $(t){m=t}const y=[],v=[],b=[],x=[],_=Promise.resolve();let w=!1;function k(t){b.push(t)}let q=!1;const E=new Set;function S(){if(!q){q=!0;do{for(let t=0;t<y.length;t+=1){const e=y[t];$(e),C(e.$$)}for($(null),y.length=0;v.length;)v.pop()();for(let t=0;t<b.length;t+=1){const e=b[t];E.has(e)||(E.add(e),e())}b.length=0}while(y.length);for(;x.length;)x.pop()();w=!1,q=!1,E.clear()}}function C(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(k)}}const j=new Set;function A(t,e){-1===t.$$.dirty[0]&&(y.push(t),w||(w=!0,_.then(S)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function N(l,s,c,i,a,f,d=[-1]){const h=m;$(l);const g=l.$$={fragment:null,ctx:null,props:f,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:[]),callbacks:n(),dirty:d,skip_bound:!1};let p=!1;if(g.ctx=c?c(l,s.props||{},((t,e,...n)=>{const r=n.length?n[0]:e;return g.ctx&&a(g.ctx[t],g.ctx[t]=r)&&(!g.skip_bound&&g.bound[t]&&g.bound[t](r),p&&A(l,t)),e})):[],g.update(),p=!0,r(g.before_update),g.fragment=!!i&&i(g.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);g.fragment&&g.fragment.l(t),t.forEach(u)}else g.fragment&&g.fragment.c();s.intro&&((y=l.$$.fragment)&&y.i&&(j.delete(y),y.i(v))),function(t,n,l){const{fragment:s,on_mount:c,on_destroy:u,after_update:i}=t.$$;s&&s.m(n,l),k((()=>{const n=c.map(e).filter(o);u?u.push(...n):r(n),t.$$.on_mount=[]})),i.forEach(k)}(l,s.target,s.anchor),S()}var y,v;$(h)}function D(t,e,n){const r=t.slice();return r[7]=e[n].title,r[8]=e[n].poster_path,r[9]=e[n].overview,r[10]=e[n].release_date,r[11]=e[n].vote_average,r}function O(t){let e;return{c(){e=i("h1"),e.textContent="No search result"},m(t,n){c(t,e,n)},d(t){t&&u(e)}}}function F(t){let e,n,r,o;return{c(){e=i("img"),e.src!==(n="https://image.tmdb.org/t/p/original/"+t[8])&&h(e,"src",n),h(e,"alt",r=t[7]),h(e,"title",o=t[7]),h(e,"class","svelte-xndsg6")},m(t,n){c(t,e,n)},p(t,l){2&l&&e.src!==(n="https://image.tmdb.org/t/p/original/"+t[8])&&h(e,"src",n),2&l&&r!==(r=t[7])&&h(e,"alt",r),2&l&&o!==(o=t[7])&&h(e,"title",o)},d(t){t&&u(e)}}}function L(t){let e,n,r,o,l,d,p,m,$,y,v,b,x,_,w,k,q=t[7]+"",E=new Date(t[10]).getFullYear()+"",S=t[9]+"",C=t[8]&&F(t);return{c(){e=i("article"),n=i("picture"),C&&C.c(),r=f(),o=i("section"),l=i("h1"),d=a(q),p=a(" ("),m=a(E),$=a(")"),y=f(),v=i("details"),b=i("summary"),b.textContent="Summary",x=f(),_=i("p"),w=a(S),k=f(),h(l,"class","svelte-xndsg6"),h(v,"class","svelte-xndsg6"),h(o,"class","summary svelte-xndsg6"),h(e,"class","svelte-xndsg6")},m(t,u){c(t,e,u),s(e,n),C&&C.m(n,null),s(e,r),s(e,o),s(o,l),s(l,d),s(l,p),s(l,m),s(l,$),s(o,y),s(o,v),s(v,b),s(v,x),s(v,_),s(_,w),s(e,k)},p(t,e){t[8]?C?C.p(t,e):(C=F(t),C.c(),C.m(n,null)):C&&(C.d(1),C=null),2&e&&q!==(q=t[7]+"")&&g(d,q),2&e&&E!==(E=new Date(t[10]).getFullYear()+"")&&g(m,E),2&e&&S!==(S=t[9]+"")&&g(w,S)},d(t){t&&u(e),C&&C.d()}}}function T(e){let n,l,a,g,m,$,y,v,b,x=e[1],_=[];for(let t=0;t<x.length;t+=1)_[t]=L(D(e,x,t));let w=null;return x.length||(w=O()),{c(){n=i("main"),l=i("form"),a=i("input"),g=f(),m=i("button"),m.textContent="Search",$=f(),y=i("section");for(let t=0;t<_.length;t+=1)_[t].c();w&&w.c(),h(a,"type","search"),h(a,"name","querySearch"),h(a,"placeholder","Search movies..."),h(a,"class","svelte-xndsg6"),h(m,"type","submit"),h(m,"class","svelte-xndsg6"),h(l,"class","svelte-xndsg6"),h(y,"class","svelte-xndsg6"),h(n,"class","svelte-xndsg6")},m(r,u){c(r,n,u),s(n,l),s(l,a),p(a,e[0]),s(l,g),s(l,m),s(n,$),s(n,y);for(let t=0;t<_.length;t+=1)_[t].m(y,null);var i,f;w&&w.m(y,null),v||(b=[d(a,"input",e[5]),(f=e[3].call(null,a),f&&o(f.destroy)?f.destroy:t),d(l,"submit",(i=e[6],function(t){return t.preventDefault(),i.call(this,t)}))],v=!0)},p(t,[e]){if(1&e&&p(a,t[0]),2&e){let n;for(x=t[1],n=0;n<x.length;n+=1){const r=D(t,x,n);_[n]?_[n].p(r,e):(_[n]=L(r),_[n].c(),_[n].m(y,null))}for(;n<_.length;n+=1)_[n].d(1);_.length=x.length,x.length?w&&(w.d(1),w=null):w||(w=O(),w.c(),w.m(y,null))}},i:t,o:t,d(t){t&&u(n),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(_,t),w&&w.d(),v=!1,r(b)}}}function Y(t,e,n){let{initialquery:r}=e,o=r,l=[];async function s(){if(o.length<2)return;const t=`https://api.themoviedb.org/3/search/movie?api_key=38d2b879e4e32254577f8d6411c67af4&query=${o}`;console.info(`Searching: ${o}`),n(1,l=await fetch(t).then((t=>t.json())).then((t=>t.results||[]))),console.log(l)}return t.$$set=t=>{"initialquery"in t&&n(4,r=t.initialquery)},[o,l,s,t=>{t.focus()},r,function(){o=this.value,n(0,o)},()=>s()]}return new class extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),N(this,t,Y,T,l,{initialquery:4})}}({target:document.body,props:{initialquery:""}})}();
//# sourceMappingURL=bundle.js.map
